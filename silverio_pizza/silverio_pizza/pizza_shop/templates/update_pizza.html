{% extends 'index.html' %}

{% block title %}Update Pizza - Pizza Shop{% endblock %}

{% block content %}
    <h2>Update Pizza</h2>
    <form method="post" id="update-form">
        {% csrf_token %}
        <input type="hidden" id="method-input" name="_method" value="PATCH">
        <label for="name">Pizza Name:</label>
        <input type="text" id="name-input" name="name" value="{{ pizza.name }}" required>

        <label for="toppings">Toppings:</label>
        {% for topping in toppings %}
            <input type="checkbox" name="toppings" id="topping-{{ topping.id }}"
                   value="{{ topping.id }}"
                   {% if topping in pizza.toppings %} checked {% endif %}>
            <label for="topping-{{ topping.id }}">{{ topping.name }}</label><br>
        {% endfor %}

        <button type="submit" id="submit-button">Update Pizza</button>
    </form>
{% endblock %}
